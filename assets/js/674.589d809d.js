"use strict";(self.webpackChunkxwblog=self.webpackChunkxwblog||[]).push([[674,8928],{8928:(e,n,l)=>{l.r(n),l.d(n,{default:()=>i});var t=l(641),a=l(33);const o=["spin"],i=(0,t.pM)({__name:"MyIcon",props:{name:String,spin:Boolean},setup(e){const n=e;return(e,l)=>((0,t.uX)(),(0,t.CE)("span",{class:(0,a.C4)(["iconfont icon",`icon-${n.name}`]),spin:n.spin},null,10,o))}})},674:(e,n,l)=>{l.r(n),l.d(n,{default:()=>r});var t=l(641),a=l(33),o=l(953),i=l(8928),c=l(5220),s=l(1083);const u={class:"MyMusic"},d=(0,t.Lk)("div",{id:"GlobalAPlayer"},null,-1),r=(0,t.pM)({__name:"NavMusic",setup(e){let n,r=(0,o.KR)(!1),y=[];const m=()=>{r.value&&(r.value=!1)},p=()=>{const e=document.querySelector(".vp-navbar-end");if(e){if(!document.querySelector("#MyMusic_Menu")){const n=document.createElement("div");n.id="MyMusic_Menu",n.classList.add("nav-item"),n.className="btnImg",n.innerHTML='<div id="MyMusic_icon" class="btnImg"></div>',e.appendChild(n)}document.querySelector("#MyMusic_Menu").onclick=e=>{r.value=!r.value,e.stopPropagation()},document.querySelector(".MyMusic").onclick=e=>{e.stopPropagation()}}},M=()=>{if(!n)return;const e=window,l=document.getElementById("GlobalAPlayer");l&&(y.length<1||(b(),l.classList.contains("aplayer")||(e.GlobalAPlayer=new n({container:document.getElementById("GlobalAPlayer"),audio:y,lrcType:3,listFolded:!1,listMaxHeight:"324px",mini:!1,fixed:!1,volume:1,storageName:"GlobalAPlayer"}),e.GlobalAPlayer.on("play",(function(){b()})),e.GlobalAPlayer.on("pause",(function(){b()})))))};function b(){var e,n;const l=window;l.GlobalAPlayer&&l.GlobalAPlayer.mode&&(l.GlobalAPlayer.paused?null==(e=document.getElementById("MyMusic_icon"))||e.setAttribute("spin","false"):null==(n=document.getElementById("MyMusic_icon"))||n.setAttribute("spin","true"))}return(0,t.sV)((()=>{const e=(0,c.rd)();var a;a=()=>{l.e(9417).then(l.t.bind(l,1798,23)).then((l=>{(0,t.dY)((()=>{n=l.default,p(),M(),window.document.body.onclick=()=>{m()}})),e.afterEach((()=>{setTimeout((()=>{p(),M()}),50)}))}))},(0,s.A)({method:"get",url:"//file.mo7.cc/music/list.json",params:{}}).then((e=>{var n=e.data;n&&n.length>0&&(y=n),console.log("加载音乐列表",y),a&&a()}))})),(e,n)=>{const l=(0,t.g2)("ClientOnly");return(0,t.uX)(),(0,t.Wv)(l,null,{default:(0,t.k6)((()=>[(0,t.Lk)("div",u,[(0,t.Lk)("div",{class:(0,a.C4)(["MyMusic_Play",{hide:!(0,o.R1)(r)}])},[(0,t.Lk)("div",{class:"close",onClick:m},[(0,t.bF)(i.default,{name:"guanbi"})]),d],2)])])),_:1})}}})}}]);