"use strict";(self.webpackChunkxwblog=self.webpackChunkxwblog||[]).push([[674,8928],{8928:(e,t,n)=>{n.r(t),n.d(t,{default:()=>s});var l=n(641),a=n(33);const o=["spin"],s=(0,l.pM)({__name:"MyIcon",props:{name:String,spin:Boolean},setup(e){const t=e;return(e,n)=>((0,l.uX)(),(0,l.CE)("span",{class:(0,a.C4)(["iconfont icon",`icon-${t.name}`]),spin:t.spin},null,10,o))}})},674:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var l=n(641),a=n(33),o=n(953),s=n(8928),i=n(5220),c=n(1083);const u={class:"MyMusic"},r=(0,l.Lk)("div",{id:"GlobalAPlayer"},null,-1),d=(0,l.pM)({__name:"NavMusic",setup(e){let t,d=(0,o.KR)(!1),m=[];const p=()=>{d.value&&(d.value=!1)},y=()=>{const e=document.querySelector(".vp-navbar-end");if(e){if(!document.querySelector("#MyMusic_Menu")){const t=document.createElement("div");t.id="MyMusic_Menu",t.classList.add("nav-item"),t.className="btnImg",t.innerHTML='<div id="MyMusic_icon" class="btnImg"></div>',e.appendChild(t)}document.querySelector("#MyMusic_Menu").onclick=e=>{d.value=!d.value,e.stopPropagation()},document.querySelector(".MyMusic").onclick=e=>{e.stopPropagation()}}},M=()=>{if(!t)return;const e=window,n=document.getElementById("GlobalAPlayer");n&&(m.length<1||(g(),n.classList.contains("aplayer")||(e.GlobalAPlayer=new t({container:document.getElementById("GlobalAPlayer"),audio:[{name:"DUDU",artist:"DUDU",url:"https://ws6.stream.qqmusic.qq.com/C400003ulSD84KF9Rb.m4a?guid=4634929828&vkey=37A42DAB64475B9F6B667F1B27F84F0C08C6786B0E3FCF70519C5DD8F24C8F0ED86B33916DF3B06E1374DE89EC871808FB5547C24AB6412B&uin=930824238&fromtag=120032",cover:"https://y.qq.com/music/photo_new/T002R300x300M000002V4hDE1h8eEL.jpg?max_age=2592000&quot"},{name:"DUDU",artist:"DUDU",url:"https://ws6.stream.qqmusic.qq.com/C400003ulSD84KF9Rb.m4a?guid=4634929828&vkey=37A42DAB64475B9F6B667F1B27F84F0C08C6786B0E3FCF70519C5DD8F24C8F0ED86B33916DF3B06E1374DE89EC871808FB5547C24AB6412B&uin=930824238&fromtag=120032",cover:"https://y.qq.com/music/photo_new/T002R300x300M000002V4hDE1h8eEL.jpg?max_age=2592000&quot"}],lrcType:3,listFolded:!1,listMaxHeight:"324px",mini:!1,fixed:!1,volume:1,storageName:"GlobalAPlayer"}),e.GlobalAPlayer.on("play",(function(){g()})),e.GlobalAPlayer.on("pause",(function(){g()})))))};function g(){var e,t;const n=window;n.GlobalAPlayer&&n.GlobalAPlayer.mode&&(n.GlobalAPlayer.paused?null==(e=document.getElementById("MyMusic_icon"))||e.setAttribute("spin","false"):null==(t=document.getElementById("MyMusic_icon"))||t.setAttribute("spin","true"))}return(0,l.sV)((()=>{const e=(0,i.rd)();var a;a=()=>{n.e(9417).then(n.t.bind(n,1798,23)).then((n=>{(0,l.dY)((()=>{t=n.default,y(),M(),window.document.body.onclick=()=>{p()}})),e.afterEach((()=>{setTimeout((()=>{y(),M()}),50)}))}))},(0,c.A)({method:"get",url:"//file.mo7.cc/music/list.json",params:{}}).then((e=>{var t=e.data;t&&t.length>0&&(m=t),console.log("加载音乐列表",m),a&&a()}))})),(e,t)=>{const n=(0,l.g2)("ClientOnly");return(0,l.uX)(),(0,l.Wv)(n,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",u,[(0,l.Lk)("div",{class:(0,a.C4)(["MyMusic_Play",{hide:!(0,o.R1)(d)}])},[(0,l.Lk)("div",{class:"close",onClick:p},[(0,l.bF)(s.default,{name:"guanbi"})]),r],2)])])),_:1})}}})}}]);